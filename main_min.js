(function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t)for(n in e={},i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n]);else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;t.length>e;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener;if(t=t?this.removeListeners:this.addListeners,"object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):t.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],!0===n.once&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n,i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,n){t.addEventListener(e,n,!1)}:i.attachEvent&&(o=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])}),n=function(){},i.removeEventListener?n=function(t,e,n){t.removeEventListener(e,n,!1)}:i.detachEvent&&(n=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}}),i={bind:o,unbind:n},"function"==typeof define&&define.amd?define("eventie/eventie",i):t.eventie=i}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){var e,n,i=[];if("[object Array]"===d.call(t))i=t;else if("number"==typeof t.length)for(e=0,n=t.length;n>e;e++)i.push(t[e]);else i.push(t);return i}function r(t,e,n){if(!(this instanceof r))return new r(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var s=this;setTimeout(function(){s.check()})}function s(t){this.img=t}function a(t){this.src=t,c[t]=this}var c,l=t.jQuery,u=t.console,h=void 0!==u,d=Object.prototype.toString;return r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){var t,e,n,i,o;for(this.images=[],t=0,e=this.elements.length;e>t;t++)if(n=this.elements[t],"IMG"===n.nodeName&&this.addImage(n),i=n.nodeType,i&&(1===i||9===i||11===i))for(n=n.querySelectorAll("img"),i=0,o=n.length;o>i;i++)this.addImage(n[i])},r.prototype.addImage=function(t){t=new s(t),this.images.push(t)},r.prototype.check=function(){function t(t,e){return i.options.debug&&h&&u.log("confirm",t,e),i.progress(t),o++,o===r&&i.complete(),!0}var e,n,i=this,o=0,r=this.images.length;if(this.hasAnyBroken=!1,!r)return void this.complete();for(e=0;r>e;e++)n=this.images[e],n.on("confirm",t),n.check()},r.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},r.prototype.complete=function(){var t,e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,t=this,setTimeout(function(){t.emit(e,t),t.emit("always",t),t.jqDeferred&&t.jqDeferred[t.hasAnyBroken?"reject":"resolve"](t)})},l&&(l.fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(l(this))}),s.prototype=new e,s.prototype.check=function(){var t,e=c[this.img.src]||new a(this.img.src);return e.isConfirmed?void this.confirm(e.isLoaded,"cached was confirmed"):this.img.complete&&void 0!==this.img.naturalWidth?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(t=this,e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),void e.check())},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)},c={},a.prototype=new e,a.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},a.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},a.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},a.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},r}),!function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){var s,a,c,l;if("string"==typeof o){for(s=i.call(arguments,1),a=0,c=this.length;c>a;a++)if(l=t.data(this[a],e))if(t.isFunction(l[o])&&"_"!==o.charAt(0)){if(l=l[o].apply(l,s),void 0!==l)return l}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'");return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n,i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,n){t.addEventListener(e,n,!1)}:i.attachEvent&&(o=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])}),n=function(){},i.removeEventListener?n=function(t,e,n){t.removeEventListener(e,n,!1)}:i.detachEvent&&(n=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}}),i={bind:o,unbind:n},"function"==typeof define&&define.amd?define("eventie/eventie",i):"object"==typeof exports?module.exports=i:t.eventie=i}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function n(t){t="readystatechange"===t.type&&"complete"!==r.readyState,e.isReady||t||i()}function i(){e.isReady=!0;for(var t=0,n=s.length;n>t;t++)s[t]()}function o(o){return"complete"===r.readyState?i():(o.bind(r,"DOMContentLoaded",n),o.bind(r,"readystatechange",n),o.bind(t,"load",n)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp)for(n in e={},i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n]);else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener;if(t=t?this.removeListeners:this.addListeners,"object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):t.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],!0===n.once&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;r>o;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n=["Webkit","Moz","ms","Ms","O"],i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(){}function i(n){function i(){var i,r,u,h;l||(l=!0,i=t.getComputedStyle,s=function(){var t=i?function(t){return i(t,null)}:function(t){return t.currentStyle};return function(e){return e=t(e),e||o("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}}(),(a=n("boxSizing"))&&(r=document.createElement("div"),r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[a]="border-box",u=document.body||document.documentElement,u.appendChild(r),h=s(r),c=200===e(h.width),u.removeChild(r)))}var s,a,c,l=!1;return function(n){var o,l,u,h,d,p,f,m,g,y,v,b;if(i(),"string"==typeof n&&(n=document.querySelector(n)),n&&"object"==typeof n&&n.nodeType){if(o=s(n),"none"===o.display){for(l={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},o=0,u=r.length;u>o;o++)l[r[o]]=0;return l}for(l={},l.width=n.offsetWidth,l.height=n.offsetHeight,u=l.isBorderBox=!(!a||!o[a]||"border-box"!==o[a]),h=0,d=r.length;d>h;h++)p=r[h],f=o[p],m=n,g=f,t.getComputedStyle||-1===g.indexOf("%")?f=g:(f=m.style,y=f.left,v=m.runtimeStyle,b=v&&v.left,b&&(v.left=m.currentStyle.left),f.left=g,g=f.pixelLeft,f.left=y,b&&(v.left=b),f=g),m=parseFloat(f),l[p]=isNaN(m)?0:m;return n=l.paddingLeft+l.paddingRight,h=l.paddingTop+l.paddingBottom,d=l.marginLeft+l.marginRight,p=l.marginTop+l.marginBottom,m=l.borderLeftWidth+l.borderRightWidth,g=l.borderTopWidth+l.borderBottomWidth,u=u&&c,f=e(o.width),!1!==f&&(l.width=f+(u?0:n+m)),o=e(o.height),!1!==o&&(l.height=o+(u?0:h+g)),l.innerWidth=l.width-(n+m),l.innerHeight=l.height-(h+g),l.outerWidth=l.width+d,l.outerHeight=l.height+p,l}}}var o="undefined"==typeof console?n:function(t){console.error(t)},r="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("desandro-get-style-property")):t.getSize=i(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function n(t,e){t.parentNode||document.createDocumentFragment().appendChild(t);for(var n=t.parentNode.querySelectorAll(e),i=0,o=n.length;o>i;i++)if(n[i]===t)return!0;return!1}function i(t,n){return t.parentNode||document.createDocumentFragment().appendChild(t),e(t,n)}var o,r,s=function(){var e,n,i,o;if(t.matchesSelector)return"matchesSelector";for(e=["webkit","moz","ms","o"],n=0,i=e.length;i>n;n++)if(o=e[n]+"MatchesSelector",t[o])return o}();s?(r=document.createElement("div"),o=e(r,"div")?e:i):o=n,"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return o}):"object"==typeof exports?module.exports=o:window.matchesSelector=o}(Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function i(t,i,o){function s(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var a,c,l,u,h=o("transition"),d=o("transform"),p=h&&d,f=!!o("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[h],g=["transform","transition","transitionDuration","transitionProperty"],y=function(){var t,e,n,i,r;for(t={},e=0,n=g.length;n>e;e++)i=g[e],r=o(i),r&&r!==i&&(t[i]=r);return t}();return e(s.prototype,t.prototype),s.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.getSize=function(){this.size=i(this.element)},s.prototype.css=function(t){var e,n=this.element.style;for(e in t)n[y[e]||e]=t[e]},s.prototype.getPosition=function(){var t=r(this.element),e=this.layout.options,n=e.isOriginLeft,e=e.isOriginTop,i=parseInt(t[n?"left":"right"],10),t=parseInt(t[e?"top":"bottom"],10),i=isNaN(i)?0:i,t=isNaN(t)?0:t,o=this.layout.size,i=i-(n?o.paddingLeft:o.paddingRight),t=t-(e?o.paddingTop:o.paddingBottom);this.position.x=i,this.position.y=t},s.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])},a=f?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"},s.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),o=o===this.position.x&&r===this.position.y;return this.setPosition(t,e),o&&!this.isTransitioning?void this.layoutPosition():(n=t-n,i=e-i,o={},r=this.layout.options,n=r.isOriginLeft?n:-n,i=r.isOriginTop?i:-i,o.transform=a(n,i),void this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))},s.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},s.prototype.moveTo=p?s.prototype._transitionTo:s.prototype.goTo,s.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},s.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},s.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e,n=this._transn;for(e in t.onTransitionEnd)n.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)n.ingProperties[e]=!0,t.isCleaning&&(n.clean[e]=!0);t.from&&this.css(t.from),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0},c=d&&n(d)+",opacity",s.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:c,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},s.prototype.transition=s.prototype[h?"_transition":"_nonTransition"],s.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},s.prototype.onotransitionend=function(t){this.ontransitionend(t)},l={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"},s.prototype.ontransitionend=function(t){var e,n,i;if(t.target===this.element){e=this._transn,n=l[t.propertyName]||t.propertyName,delete e.ingProperties[n];t:{i=e.ingProperties;for(o in i){i=!1;break t}i=!0}i&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd&&(e.onEnd[n].call(this),delete e.onEnd[n]),this.emitEvent("transitionEnd",[this])}},s.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},s.prototype._removeStyles=function(t){var e,n={};for(e in t)n[e]="";this.css(n)},u={transitionProperty:"",transitionDuration:""},s.prototype.removeTransitionStyles=function(){this.css(u)},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},s.prototype.remove=function(){if(!h||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},s.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},s.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},s.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}var o=t.getComputedStyle,r=o?function(t){return o(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=i(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){var e,n,i=[];if("[object Array]"===u.call(t))i=t;else if(t&&"number"==typeof t.length)for(e=0,n=t.length;n>e;e++)i.push(t[e]);else i.push(t);return i}function i(t,e){var n=d(e,t);-1!==n&&e.splice(n,1)}function o(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function r(r,u,d,p,f,m){function g(t,n){if("string"==typeof t&&(t=s.querySelector(t)),!t||!h(t))return void(a&&a.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(n);var i=++y;this.element.outlayerGUID=i,v[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var y=0,v={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,d.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){var e,n,i,o,r;for(t=this._filterFindItemElements(t),e=this.constructor.Item,n=[],i=0,o=t.length;o>i;i++)r=new e(t[i],this),n.push(r);return n},g.prototype._filterFindItemElements=function(t){var e,i,o,r,s,a,c;for(t=n(t),e=this.options.itemSelector,i=[],o=0,r=t.length;r>o;o++)if(s=t[o],h(s))if(e)for(f(s,e)&&i.push(s),s=s.querySelectorAll(e),a=0,c=s.length;c>a;a++)i.push(s[a]);else i.push(s);return i},g.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps(),this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):h(i)&&(n=i),this[t]=n?p(n)[e]:i):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){var e,n,i,o;for(e=[],n=0,i=t.length;i>n;n++)o=t[n],o.isIgnored||e.push(o);return e},g.prototype._layoutItems=function(t,e){function n(){c.emitEvent("layoutComplete",[c,t])}var i,o,r,s,a,c=this;if(!t||!t.length)return void n();for(this._itemsOn(t,"layout",n),i=[],o=0,r=t.length;r>o;o++)s=t[o],a=this._getItemLayoutPosition(s),a.item=s,a.isInstant=e||s.isLayoutInstant,i.push(a);this._processLayoutQueue(i)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){var e,n,i;for(e=0,n=t.length;n>e;e++)i=t[e],this._positionItem(i.item,i.x,i.y,i.isInstant)},g.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=l,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,n){function i(){return o++,o===r&&n.call(s),!0}for(var o=0,r=t.length,s=this,a=0,c=t.length;c>a;a++)t[a].on(e,i)},g.prototype.ignore=function(t){(t=this.getItem(t))&&(t.isIgnored=!0)},g.prototype.unignore=function(t){(t=this.getItem(t))&&delete t.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++)this.ignore(t[e])}},g.prototype.unstamp=function(t){var e,n,o;if(t=this._find(t))for(e=0,n=t.length;n>e;e++)o=t[e],i(o,this.stamps),this.unignore(o)},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++)this._manageStamp(this.stamps[t])}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=l,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect;return t=p(t),{left:e.left-n.left-t.marginLeft,top:e.top-n.top-t.marginTop,right:n.right-e.right-t.marginRight,bottom:n.bottom-e.bottom-t.marginBottom}},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(r.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&r.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(function(){t.resize(),delete t.resizeTimeout},100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){return t=this._itemize(t),t.length&&(this.items=this.items.concat(t)),t},g.prototype.appended=function(t){t=this.addItems(t),t.length&&(this.layoutItems(t,!0),this.reveal(t))},g.prototype.prepended=function(t){if(t=this._itemize(t),t.length){var e=this.items.slice(0);this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e)}},g.prototype.reveal=function(t){var e,n=t&&t.length;if(n)for(e=0;n>e;e++)t[e].reveal()},g.prototype.hide=function(t){var e,n=t&&t.length;if(n)for(e=0;n>e;e++)t[e].hide()},g.prototype.getItem=function(t){var e,n,i;for(e=0,n=this.items.length;n>e;e++)if(i=this.items[e],i.element===t)return i},g.prototype.getItems=function(t){var e,n,i,o;if(t&&t.length){for(e=[],n=0,i=t.length;i>n;n++)o=this.getItem(t[n]),o&&e.push(o);return e}},g.prototype.remove=function(t){var e,o,r;if(t=n(t),e=this.getItems(t),e&&e.length)for(this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])}),t=0,o=e.length;o>t;t++)r=e[t],r.remove(),i(r,this.items)},g.prototype.destroy=function(){var t,e=this.element.style;for(e.height="",e.position="",e.width="",e=0,t=this.items.length;t>e;e++)this.items[e].destroy();this.unbindResize(),delete v[this.element.outlayerGUID],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){return(t=t&&t.outlayerGUID)&&v[t]},g.create=function(t,n){function i(){g.apply(this,arguments)}return Object.create?i.prototype=Object.create(g.prototype):e(i.prototype,g.prototype),i.prototype.constructor=i,i.defaults=e({},g.defaults),e(i.defaults,n),i.prototype.settings={},i.namespace=t,i.data=g.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,u(function(){var e,n,r,l,u,h,d;for(e=o(t),n=s.querySelectorAll(".js-"+e),e="data-"+e+"-options",r=0,l=n.length;l>r;r++){h=n[r],d=h.getAttribute(e);try{u=d&&JSON.parse(d)}catch(p){a&&a.error("Error parsing "+e+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+p);continue}d=new i(h,u),c&&c.data(h,t,d)}}),c&&c.bridget&&c.bridget(t,i),i},g.Item=m,g}var s=t.document,a=t.console,c=t.jQuery,l=function(){},u=Object.prototype.toString,h="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer","eventie/eventie doc-ready/doc-ready eventEmitter/EventEmitter get-size/get-size matches-selector/matches-selector ./item".split(" "),r):"object"==typeof exports?module.exports=r(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=r(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0];this.columnWidth=(t=t&&t.element)&&e(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=e(this.options.isFitWidth?this.element.parentNode:this.element);this.containerWidth=t&&t.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,e=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this._getColGroup(e),o=Math.min.apply(Math,i),e=n(i,o),r={x:this.columnWidth*e,y:o};for(t=o+t.size.outerHeight,i=this.cols+1-i.length,o=0;i>o;o++)this.colYs[e+o]=t;return r},i.prototype._getColGroup=function(t){var e,n,i,o;if(2>t)return this.colYs;for(e=[],n=this.cols+1-t,i=0;n>i;i++)o=this.colYs.slice(i,i+t),e[i]=Math.max.apply(Math,o);return e},i.prototype._manageStamp=function(t){var n,i,o=e(t),r=this._getElementOffset(t);for(t=this.options.isOriginLeft?r.left:r.right,n=t+o.outerWidth,i=Math.floor(t/this.columnWidth),i=Math.max(0,i),t=Math.floor(n/this.columnWidth),t-=n%this.columnWidth?0:1,t=Math.min(this.cols-1,t),o=(this.options.isOriginTop?r.top:r.bottom)+o.outerHeight,r=i;t>=r;r++)this.colYs[r]=Math.max(o,this.colYs[r])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth; return this.getContainerWidth(),t!==this.containerWidth},i}var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window);var defensiveInfiniteScroll=$("#entry").hasClass("infinite");defensiveInfiniteScroll&&function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){t.infinitescroll=function(e,n,i){this.element=t(i),this._create(e,n)||(this.failed=!0)},t.infinitescroll.defaults={loading:{finished:e,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:null,msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:e},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:e,binder:t(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:e,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:e,path:e,prefill:!1,maxPage:e},t.infinitescroll.prototype={_binding:function(t){var n=this,i=n.options;if(i.v="2.0b2.120520",i.behavior&&this["_binding_"+i.behavior]!==e)this["_binding_"+i.behavior].call(this);else{if("bind"!==t&&"unbind"!==t)return this._debug("Binding value  "+t+" not valid"),!1;"unbind"===t?this.options.binder.unbind("smartscroll.infscr."+n.options.infid):this.options.binder[t]("smartscroll.infscr."+n.options.infid,function(){n.scroll()}),this._debug("Binding",t)}},_create:function(n,i){var o,r,s,a=t.extend(!0,{},t.infinitescroll.defaults,n);return this.options=a,o=t(window),this._validate(n)?(r=t(a.nextSelector).attr("href"))?(a.path=a.path||this._determinepath(r),a.contentSelector=a.contentSelector||this.element,a.loading.selector=a.loading.selector||a.contentSelector,a.loading.msg=a.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+a.loading.img+'" /><div>'+a.loading.msgText+"</div></div>"),(new Image).src=a.loading.img,a.pixelsFromNavToBottom===e&&(a.pixelsFromNavToBottom=t(document).height()-t(a.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+a.pixelsFromNavToBottom)),s=this,a.loading.start=a.loading.start||function(){t(a.navSelector).hide(),a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,t.proxy(function(){this.beginAjax(a)},s))},a.loading.finished=a.loading.finished||function(){a.state.isBeyondMaxPage||a.loading.msg.fadeOut(a.loading.speed)},a.callback=function(n,r,s){a.behavior&&n["_callback_"+a.behavior]!==e&&n["_callback_"+a.behavior].call(t(a.contentSelector)[0],r,s),i&&i.call(t(a.contentSelector)[0],r,a,s),a.prefill&&o.bind("resize.infinite-scroll",n._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||"log info warn error assert dir clear profile profileEnd".split(" ").forEach(function(t){console[t]=this.call(console[t],console)},Function.prototype.bind)),this._setup(),a.prefill&&this._prefill(),!0):(this._debug("Navigation selector not found"),!1):!1},_prefill:function(){var e=this,n=t(window);this._prefill=function(){t(e.options.contentSelector).height()<=n.height()&&e.scroll(),n.bind("resize.infinite-scroll",function(){t(e.options.contentSelector).height()<=n.height()&&(n.unbind("resize.infinite-scroll"),e.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?console.log(1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?""+Array.prototype.slice.call(arguments):Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(t){var n=this.options;if(n.behavior&&this["_determinepath_"+n.behavior]!==e)return this["_determinepath_"+n.behavior].call(this,t);if(n.pathParse)return this._debug("pathParse manual"),n.pathParse(t,this.options.state.currPage+1);if(t.match(/^(.*?)\b2\b(.*?$)/))t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/))return t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/))return t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),n.state.isInvalidPage=!0}return this._debug("determinePath",t),t},_error:function(t){var n=this.options;n.behavior&&this["_error_"+n.behavior]!==e?this["_error_"+n.behavior].call(this,t):("destroy"!==t&&"end"!==t&&(t="unknown"),this._debug("Error",t),("end"===t||n.state.isBeyondMaxPage)&&this._showdonemsg(),n.state.isDone=!0,n.state.currPage=1,n.state.isPaused=!1,n.state.isBeyondMaxPage=!1,this._binding("unbind"))},_loadcallback:function(n,i,o){var r=this.options,s=this.options.callback,a=r.state.isDone?"done":r.appendCallback?"append":"no-append";if(r.behavior&&this["_loadcallback_"+r.behavior]!==e)this["_loadcallback_"+r.behavior].call(this,n,i);else{switch(a){case"done":return this._showdonemsg(),!1;case"no-append":if("html"===r.dataType&&(i=t("<div>"+i+"</div>").find(r.itemSelector)),0===i.length)return this._error("end");break;case"append":if(a=n.children(),0===a.length)return this._error("end");for(i=document.createDocumentFragment();n[0].firstChild;)i.appendChild(n[0].firstChild);this._debug("contentSelector",t(r.contentSelector)[0]),t(r.contentSelector)[0].appendChild(i),i=a.get()}r.loading.finished.call(t(r.contentSelector)[0],r),r.animate&&(n=t(window).scrollTop()+t(r.loading.msg).height()+r.extraScrollPx+"px",t("html,body").animate({scrollTop:n},800,function(){r.state.isDuringAjax=!1})),r.animate||(r.state.isDuringAjax=!1),s(this,i,o),r.prefill&&this._prefill()}},_nearbottom:function(){var n=this.options,i=0+t(document).height()-n.binder.scrollTop()-t(window).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==e?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",i,n.pixelsFromNavToBottom),i-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(t){var n=this.options;if(!n.behavior||this["_pausing_"+n.behavior]===e){switch("pause"!==t&&"resume"!==t&&null!==t&&this._debug("Invalid argument. Toggling pause value instead"),!t||"pause"!==t&&"resume"!==t?"toggle":t){case"pause":n.state.isPaused=!0;break;case"resume":n.state.isPaused=!1;break;case"toggle":n.state.isPaused=!n.state.isPaused}return this._debug("Paused",n.state.isPaused),!1}this["_pausing_"+n.behavior].call(this,t)},_setup:function(){var t=this.options;return t.behavior&&this["_setup_"+t.behavior]!==e?void this["_setup_"+t.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var n=this.options;n.behavior&&this["_showdonemsg_"+n.behavior]!==e?this["_showdonemsg_"+n.behavior].call(this):(n.loading.msg.find("img").hide().parent().find("div").html(n.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(n.loading.speed)}),n.errorCallback.call(t(n.contentSelector)[0],"done"))},_validate:function(e){for(var n in e)if(n.indexOf&&-1<n.indexOf("Selector")&&0===t(e[n]).length)return this._debug("Your "+n+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(n){var i,o,r,s=this,a=n.path;if(n.state.currPage++,n.maxPage!==e&&n.state.currPage>n.maxPage)n.state.isBeyondMaxPage=!0,this.destroy();else switch(i=t(t(n.contentSelector).is("table, tbody")?"<tbody/>":"<div/>"),o="function"==typeof a?a(n.state.currPage):a.join(n.state.currPage),s._debug("heading into ajax",o),a="html"===n.dataType||"json"===n.dataType?n.dataType:"html+callback",n.appendCallback&&"html"===n.dataType&&(a+="+callback"),a){case"html+callback":s._debug("Using HTML via .load() method"),i.load(o+" "+n.itemSelector,e,function(t){s._loadcallback(i,t,o)});break;case"html":s._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({url:o,dataType:n.dataType,complete:function(t,e){(r=void 0!==t.isResolved?t.isResolved():"success"===e||"notmodified"===e)?s._loadcallback(i,t.responseText,o):s._error("end")}});break;case"json":s._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({dataType:"json",type:"GET",url:o,success:function(t,a,c){r=void 0!==c.isResolved?c.isResolved():"success"===a||"notmodified"===a,n.appendCallback?n.template!==e?(t=n.template(t),i.append(t),r?s._loadcallback(i,t):s._error("end")):(s._debug("template must be defined."),s._error("end")):r?s._loadcallback(i,t,o):s._error("end")},error:function(){s._debug("JSON ajax request failed."),s._error("end")}})}},retrieve:function(n){n=n||null;var i=this.options;if(i.behavior&&this["retrieve_"+i.behavior]!==e)this["retrieve_"+i.behavior].call(this,n);else{if(i.state.isDestroyed)return this._debug("Instance is destroyed"),!1;i.state.isDuringAjax=!0,i.loading.start.call(t(i.contentSelector)[0],i)}},scroll:function(){var t=this.options,n=t.state;t.behavior&&this["scroll_"+t.behavior]!==e?this["scroll_"+t.behavior].call(this):n.isDuringAjax||n.isInvalidPage||n.isDone||n.isDestroyed||n.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))}},t.fn.infinitescroll=function(e,n){switch(typeof e){case"string":var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"infinitescroll");return n&&t.isFunction(n[e])&&"_"!==e.charAt(0)?void n[e].apply(n,i):!1});break;case"object":this.each(function(){var i=t.data(this,"infinitescroll");i?i.update(e):(i=new t.infinitescroll(e,n,this),i.failed||t.data(this,"infinitescroll",i))})}return this};var n,i=t.event;i.special.smartscroll={setup:function(){t(this).bind("scroll",i.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",i.special.smartscroll.handler)},handler:function(e,i){var o=this,r=arguments;e.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){t(o).trigger("smartscroll",r)},"execAsap"===i?0:100)}},t.fn.smartscroll=function(t){return t?this.bind("smartscroll",t):this.trigger("smartscroll",["execAsap"])}}),$(function(){var t,e,n;$("nav").append('<a target="_blank" class="nav" href="http://rowrz.com/themes">theme</a>'),$("body").prepend('<a id="install-btn" href="https://tumblr.com/theme/38849" title="Install This Theme" target="_blank" style="opacity: 1;"><span id="install-btn-txt">Install Theme</span></a>'),setTimeout(function(){$("#install-btn").animate({top:"3px"})},1e3),t=$(".entry").hasClass("nopo-enabled")&&/\S/.test($("#posts").data("nopo-selector"))&&"tagged"!=window.location.pathname.split("/")[1],$.fn.photosetResize=function(){return $(this).each(function(){var t=$(".posts").width(),e=$(this).attr("src").replace("500",t);$(this).attr("src",e).width(t),e=$(this).css("height"),t=parseInt(e,10)*t/500,$(this).css("height",t)}),this},t&&(e=$.grep($("#posts").data("nopo-selector"),function(t){return t}),$.fn.runNopo=function(t){-1<$.inArray(t,$.grep($(this).data("nopo-tags").split(" "),function(t){return t}))&&$(this).remove()},$.fn.noPo=function(t){$(this).siblings().each(function(){$(this).runNopo(t)})},$(function(){$(".nopo-enabled").noPo(e[0])})),n=$("#posts"),$("iframe.photoset").photosetResize(),n.imagesLoaded(function(){n.masonry({itemSelector:"#entry",isResizable:!0})}),defensiveInfiniteScroll&&n.infinitescroll({navSelector:"#page-nav",nextSelector:"#page-nav a",itemSelector:"#entry",loadingImg:"",loadingText:"",bufferPx:100,extraScrollPx:200,loading:{finishedMsg:""}},function(i){$(i).hide(),$(i).find("iframe.photoset").photosetResize(),$(i).imagesLoaded(function(){$(i).fadeIn(),t&&$(i).each(function(){$(this).runNopo(e[0])}),n.masonry("appended",$(i),!0)})})}),window.Modernizr=function(t,e,n){function i(t,e){return typeof t===e}function o(t,e){var i,o;for(i in t)if(o=t[i],!~(""+o).indexOf("-")&&x[o]!==n)return"pfx"==e?o:!0;return!1}function r(t,e,r){var s,a=t.charAt(0).toUpperCase()+t.slice(1),c=(t+" "+T.join(a+" ")+a).split(" ");if(i(e,"string")||i(e,"undefined"))e=o(c,e);else t:{c=(t+" "+L.join(a+" ")+a).split(" "),t=c;for(s in t)if(a=e[t[s]],a!==n){e=!1===r?t[s]:i(a,"function")?a.bind(r||e):a;break t}e=!1}return e}function s(){y.input=function(n){for(var i=0,o=n.length;o>i;i++)c[n[i]]=n[i]in E;return c.list&&(c.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),c}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),y.inputtypes=function(t){for(var i,o,r,s=0,c=t.length;c>s;s++)E.setAttribute("type",o=t[s]),(i="text"!==E.type)&&(E.value=_,E.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&E.style.WebkitAppearance!==n?(v.appendChild(E),r=e.defaultView,i=r.getComputedStyle&&"textfield"!==r.getComputedStyle(E,null).WebkitAppearance&&0!==E.offsetHeight,v.removeChild(E)):/^(search|tel)$/.test(o)||(i=/^(url|email)$/.test(o)?E.checkValidity&&!1===E.checkValidity():E.value!=_)),a[t[s]]=!!i;return a}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var a,c,l,u,h,d,p,f,m,g,y={},v=e.documentElement,b=e.createElement("modernizr"),x=b.style,E=e.createElement("input"),_=":)",w={}.toString,S=" -webkit- -moz- -o- -ms- ".split(" "),T=["Webkit","Moz","O","ms"],L=["webkit","moz","o","ms"];b={},a={},c={},l=[],u=l.slice,d=function(t,n,i,o){var r,s,a,c,l=e.createElement("div"),u=e.body,h=u||e.createElement("body");if(parseInt(i,10))for(;i--;)a=e.createElement("div"),a.id=o?o[i]:"modernizr"+(i+1),l.appendChild(a);return r='&#173;<style id="smodernizr">'+t+"</style>",l.id="modernizr",(u?l:h).innerHTML+=r,h.appendChild(l),u||(h.style.background="",h.style.overflow="hidden",c=v.style.overflow,v.style.overflow="hidden",v.appendChild(h)),s=n(l,t),u?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),v.style.overflow=c),!!s},p=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(o,r){r=r||e.createElement(t[o]||"div"),o="on"+o;var s=o in r;return s||(r.setAttribute||(r=e.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(o,""),s=i(r[o],"function"),i(r[o],"undefined")||(r[o]=n),r.removeAttribute(o))),s}}(),f={}.hasOwnProperty,m=i(f,"undefined")||i(f.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return f.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e,n,i=this;if("function"!=typeof i)throw new TypeError;return e=u.call(arguments,1),n=function(){var o,r;return this instanceof n?(o=function(){},o.prototype=i.prototype,o=new o,r=i.apply(o,e.concat(u.call(arguments))),Object(r)===r?r:o):i.apply(t,e.concat(u.call(arguments)))}}),b.flexbox=function(){return r("flexWrap")},b.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},b.canvastext=function(){return!!y.canvas&&!!i(e.createElement("canvas").getContext("2d").fillText,"function")},b.webgl=function(){return!!t.WebGLRenderingContext},b.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:d("@media ("+S.join("touch-enabled),(")+"modernizr){#modernizr{top:9px;position:absolute}}",function(t){n=9===t.offsetTop}),n},b.geolocation=function(){return"geolocation"in navigator},b.postmessage=function(){return!!t.postMessage},b.websqldatabase=function(){return!!t.openDatabase},b.indexedDB=function(){return!!r("indexedDB",t)},b.hashchange=function(){return p("hashchange",t)&&(e.documentMode===n||7<e.documentMode)},b.history=function(){return!!t.history&&!!history.pushState},b.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},b.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},b.rgba=function(){return x.cssText="background-color:rgba(150,255,150,.5)",!!~(""+x.backgroundColor).indexOf("rgba")},b.hsla=function(){return x.cssText="background-color:hsla(120,40%,100%,.5)",!!~(""+x.backgroundColor).indexOf("rgba")||!!~(""+x.backgroundColor).indexOf("hsla")},b.multiplebgs=function(){return x.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(x.background)},b.backgroundsize=function(){return r("backgroundSize")},b.borderimage=function(){return r("borderImage")},b.borderradius=function(){return r("borderRadius")},b.boxshadow=function(){return r("boxShadow")},b.textshadow=function(){return""===e.createElement("div").style.textShadow},b.opacity=function(){var t=S.join("opacity:.55;")+"";return x.cssText=t,/^0.55$/.test(x.opacity)},b.cssanimations=function(){return r("animationName")},b.csscolumns=function(){return r("columnCount")},b.cssgradients=function(){var t=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+S.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);return x.cssText=t,!!~(""+x.backgroundImage).indexOf("gradient")},b.cssreflections=function(){return r("boxReflect")},b.csstransforms=function(){return!!r("transform")},b.csstransforms3d=function(){var t=!!r("perspective");return t&&"webkitPerspective"in v.style&&d("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},b.csstransitions=function(){return r("transition")},b.fontface=function(){var t;return d('@font-face {font-family:"font";src:url("https://")}',function(n,i){var o=e.getElementById("smodernizr"),o=(o=o.sheet||o.styleSheet)?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(o)&&0===o.indexOf(i.split(" ")[0])}),t},b.generatedcontent=function(){var t;return d('#modernizr{font:0/0 a}#modernizr:after{content:"'+_+'";visibility:hidden;font:3px/1 a}',function(e){t=3<=e.offsetHeight}),t},b.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},b.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},b.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(t){return!1}},b.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(t){return!1}},b.webworkers=function(){return!!t.Worker},b.applicationcache=function(){return!!t.applicationCache},b.svg=function(){return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},b.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(t.firstChild&&t.firstChild.namespaceURI)},b.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(w.call(e.createElementNS("http://www.w3.org/2000/svg","animate")))},b.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(w.call(e.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(g in b)m(b,g)&&(h=g.toLowerCase(),y[h]=b[g](),l.push((y[h]?"":"no-")+h));return y.input||s(),y.addTest=function(t,e){if("object"==typeof t)for(var i in t)m(t,i)&&y.addTest(i,t[i]);else{if(t=t.toLowerCase(),y[t]!==n)return y;e="function"==typeof e?e():e,v.className+=" "+(e?"":"no-")+t,y[t]=e}return y},x.cssText="",b=E=null,function(t,e){function n(){var t=l.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=m[t[p]];return e||(e={},f++,t[p]=f,m[f]=e),e}function o(t,n,o){if(n||(n=e),c)return n.createElement(t);o||(o=i(n));var r;return r=o.cache[t]?o.cache[t].cloneNode():d.test(t)?(o.cache[t]=o.createElem(t)).cloneNode():o.createElem(t),r.canHaveChildren&&!h.test(t)?o.frag.appendChild(r):r}function r(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return l.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(l,e.frag)}function s(t){var n,o,s;return t||(t=e),n=i(t),!l.shivCSS||a||n.hasCSS||(s=t,o=s.createElement("p"),s=s.getElementsByTagName("head")[0]||s.documentElement,o.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>",o=s.insertBefore(o.lastChild,s.firstChild),n.hasCSS=!!o),c||r(t,n),t}var a,c,l,u=t.html5||{},h=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",f=0,m={};!function(){var t,n,i;try{t=e.createElement("a"),t.innerHTML="<xyz></xyz>",a="hidden"in t,(n=1==t.childNodes.length)||(e.createElement("a"),i=e.createDocumentFragment(),n=void 0===i.cloneNode||void 0===i.createDocumentFragment||void 0===i.createElement),c=n}catch(o){c=a=!0}}(),l={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==u.shivCSS,supportsUnknownElements:c,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:s,createElement:o,createDocumentFragment:function(t,o){if(t||(t=e),c)return t.createDocumentFragment();o=o||i(t);for(var r=o.frag.cloneNode(),s=0,a=n(),l=a.length;l>s;s++)r.createElement(a[s]);return r}},t.html5=l,s(e)}(this,e),y._version="2.6.2",y._prefixes=S,y._domPrefixes=L,y._cssomPrefixes=T,y.mq=function(e){var n,i=t.matchMedia||t.msMatchMedia;return i?i(e).matches:(d("@media "+e+" { #modernizr { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n)},y.hasEvent=p,y.testProp=function(t){return o([t])},y.testAllProps=r,y.testStyles=d,y.prefixed=function(t,e,n){return e?r(t,e,n):r(t,"pfx")},v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+l.join(" ")),y}(this,this.document),function(t,e,n){function i(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function r(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=y.shift();v=1,t?t.t?f(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):v=0}function c(t,n,i,o,r,c,l){function u(e){if(!p&&s(h.readyState)&&(b.r=p=1,!v&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&f(function(){E.removeChild(h)},50);for(var i in L[n])L[n].hasOwnProperty(i)&&L[n][i].onload()}}l=l||d.errorTimeout;var h=e.createElement(t),p=0,g=0,b={t:i,s:n,e:r,a:c,x:l};1===L[n]&&(g=1,L[n]=[]),"object"==t?h.data=n:(h.src=n,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,g)},y.splice(o,0,b),"img"!=t&&(g||2===L[n]?(E.insertBefore(h,x?null:m),f(u,l)):L[n].push(h))}function l(t,e,n,i,r){return v=0,e=e||"j",o(t)?c("c"==e?w:_,t,e,this.i++,n,i,r):(y.splice(this.i++,0,t),1==y.length&&a()),this}function u(){var t=d;return t.loader={load:l,i:0},t}var h,d,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,y=[],v=0,b="MozAppearance"in p.style,x=b&&!!e.createRange().compareNode,E=x?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,_=b?"object":p?"script":"img",w=p?"script":_,S=Array.isArray||function(t){return"[object Array]"==g.call(t)},T=[],L={},C={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};d=function(t){function e(t){t=t.split("!");var e,n,i,o=T.length,r=t.pop(),s=t.length,r={url:r,origUrl:r,prefixes:t};for(n=0;s>n;n++)i=t[n].split("="),(e=C[i.shift()])&&(r=e(r,i));for(n=0;o>n;n++)r=T[n](r);return r}function s(t,o,r,s,a){var c=e(t),l=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(o&&(o=i(o)?o:o[t]||o[s]||o[t.split("/").pop().split("?")[0]]),c.instead?c.instead(t,o,r,s,a):(L[c.url]?c.noexec=!0:L[c.url]=1,r.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(o)||i(l))&&r.load(function(){u(),o&&o(c.origUrl,a,s),l&&l(c.origUrl,a,s),L[c.url]=2})))}function a(t,e){function n(t,n){if(t){if(o(t))n||(h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}),s(t,h,e,0,l);else if(Object(t)===t)for(c in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(c)&&(!n&&!--a&&(i(h)?h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}:h[c]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(d[c])),s(t[c],h,e,c,l))}else!n&&p()}var a,c,l=!!t.test,u=t.load||t.both,h=t.callback||r,d=h,p=t.complete||r;n(l?t.yep:t.nope,!!u),u&&n(u)}var c,l,h=this.yepnope.loader;if(o(t))s(t,0,h,0);else if(S(t))for(c=0;c<t.length;c++)l=t[c],o(l)?s(l,0,h,0):S(l)?d(l):Object(l)===l&&a(l,h);else Object(t)===t&&a(t,h)},d.addPrefix=function(t,e){C[t]=e},d.addFilter=function(t){T.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,i,o,c,l){var u,h,p=e.createElement("script");o=o||d.errorTimeout,p.src=t;for(h in i)p.setAttribute(h,i[h]);n=l?a:n||r,p.onreadystatechange=p.onload=function(){!u&&s(p.readyState)&&(u=1,n(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,n(1))},o),c?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,n,i,o,s,c){o=e.createElement("link");var l;n=c?a:n||r,o.href=t,o.rel="stylesheet",o.type="text/css";for(l in i)o.setAttribute(l,i[l]);s||(m.parentNode.insertBefore(o,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},window.matchMedia=window.matchMedia||function(t){var e,n=t.documentElement,i=n.firstElementChild||n.firstChild,o=t.createElement("body"),r=t.createElement("div");return r.id="mq-test-1",r.style.cssText="position:absolute;top:-100em",o.style.background="none",o.appendChild(r),function(t){return r.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(o,i),e=42==r.offsetWidth,n.removeChild(o),{matches:e,media:t}}}(document),function(t){function e(){b(!0)}if(t.respond={},respond.update=function(){},respond.mediaQueriesSupported=t.matchMedia&&t.matchMedia("only all").matches,!respond.mediaQueriesSupported){var n,i,o,r=t.document,s=r.documentElement,a=[],c=[],l=[],u={},h=r.getElementsByTagName("head")[0]||s,d=r.getElementsByTagName("base")[0],p=h.getElementsByTagName("link"),f=[],m=function(){for(var e,n,i,o,r=p.length,s=0;r>s;s++)e=p[s],n=e.href,i=e.media,o=e.rel&&"stylesheet"===e.rel.toLowerCase(),n&&o&&!u[n]&&(e.styleSheet&&e.styleSheet.rawCssText?(y(e.styleSheet.rawCssText,n,i),u[n]=!0):(/^([a-zA-Z:]*\/\/)/.test(n)||d)&&n.replace(RegExp.$1,"").split("/")[0]!==t.location.host||f.push({href:n,media:i}));g()},g=function(){if(f.length){var t=f.shift();x(t.href,function(e){y(e,t.href,t.media),u[t.href]=!0,g()})}},y=function(t,e,n){var i,o,r,s,l,u,h,d=t.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),p=d&&d.length||0;for(e=e.substring(0,e.lastIndexOf("/")),i=function(t){return t.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+e+"$2$3")},o=!p&&n,r=0,e.length&&(e+="/"),o&&(p=1);p>r;r++)for(s=0,o?(l=n,c.push(i(t))):(l=d[r].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,c.push(RegExp.$2&&i(RegExp.$2))),u=l.split(","),h=u.length;h>s;s++)l=u[s],a.push({media:l.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:c.length-1,hasquery:-1<l.indexOf("("),minw:l.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:l.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")});b()},v=function(){var t,e=r.createElement("div"),n=r.body,i=!1;return e.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=i=r.createElement("body"),n.style.background="none"),n.appendChild(e),s.insertBefore(n,s.firstChild),t=e.offsetWidth,i?s.removeChild(n):n.removeChild(e),t=o=parseFloat(t)},b=function(t){var e,u,d,f,m,g,y=s.clientWidth,x="CSS1Compat"===r.compatMode&&y||r.body.clientWidth||y;if(y={},e=p[p.length-1],u=(new Date).getTime(),t&&n&&30>u-n)clearTimeout(i),i=setTimeout(b,30);else{n=u;for(d in a)t=a[d],u=t.minw,f=t.maxw,m=null===u,g=null===f,u&&(u=parseFloat(u)*(-1<u.indexOf("em")?o||v():1)),f&&(f=parseFloat(f)*(-1<f.indexOf("em")?o||v():1)),t.hasquery&&(m&&g||!(m||x>=u)||!(g||f>=x))||(y[t.media]||(y[t.media]=[]),y[t.media].push(c[t.rules]));for(d in l)l[d]&&l[d].parentNode===h&&h.removeChild(l[d]);for(d in y)x=r.createElement("style"),t=y[d].join("\n"),x.type="text/css",x.media=d,h.insertBefore(x,e.nextSibling),x.styleSheet?x.styleSheet.cssText=t:x.appendChild(r.createTextNode(t)),l.push(x)}},x=function(t,e){var n=E();n&&(n.open("GET",t,!0),n.onreadystatechange=function(){4!=n.readyState||200!=n.status&&304!=n.status||e(n.responseText)},4!=n.readyState&&n.send(null))},E=function(){var t=!1;try{t=new XMLHttpRequest}catch(e){t=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}();m(),respond.update=m,t.addEventListener?t.addEventListener("resize",e,!1):t.attachEvent&&t.attachEvent("onresize",e)}}(this),$(function(){$(".em-fl,.entry-text,.post-title,.clear,.photo-caption,.question,.answer,.answer-replies,.bubble-answer").minEmoji()});